<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>HyphaMind Primitives</title>
  <link rel="icon" href="assets/img/favicon.ico">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="site-header">
    <div class="container">
      <a class="brand" href="index.html">
        <img src="assets/logo.svg" alt="HyphaMind logo">
        <span>HyphaMind</span>
      </a>
      <p class="tagline">Every primitive contributes receipts, telemetry, and context to keep the loop accountable.</p>
    </div>
    <nav class="site-nav">
      <a href="/docs/">Docs</a>
      <a href="/blog/">Blog</a>
      <a href="https://community.hyphamind.ai" rel="noopener">Web</a>
      <a href="https://github.com/hyphamind-ai/hyphaMind/blob/1722dfa36f3bb6a53bd4342606dfedb4a426bfc8/docs/vnext/whitepaper_vnext.md">Philosophy</a>
    </nav>
  </header>
  <main class="container">
    <section class="section">
      <h1>Primitives and required spans</h1>
      <p class="lead">HyphaMind v1.1 defines required span attributes for each primitive. If a span lacks the required fields, REFRAIN pauses and VALVE refuses additional reach.</p>
      <div class="card table-card" data-accent="teal">
        <table>
          <caption>Primitive invariants (v1.1)</caption>
          <thead>
            <tr>
              <th>Primitive</th>
              <th>Purpose</th>
              <th>Artifacts</th>
              <th>Required Span Fields</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>ROOT</td>
              <td>Seed run with provenance anchor and grants.</td>
              <td><span class="code-inline">root.digest</span>, <span class="code-inline">grants.network[]</span></td>
              <td><span class="code-inline">root.digest</span>, <span class="code-inline">purpose.of.use</span></td>
            </tr>
            <tr>
              <td>VALVE</td>
              <td>Policy enforcement and refusal codes.</td>
              <td><span class="code-inline">valve_decision</span>, <span class="code-inline">policy.decision</span></td>
              <td><span class="code-inline">valve_decision</span>, <span class="code-inline">policy.decision</span>, <span class="code-inline">consent.scope</span></td>
            </tr>
            <tr>
              <td>CLASP</td>
              <td>Bind consent envelopes to spans.</td>
              <td><span class="code-inline">consent_envelope_id</span></td>
              <td><span class="code-inline">consent_envelope_id</span>, <span class="code-inline">consent.terms.version</span></td>
            </tr>
            <tr>
              <td>TRACE</td>
              <td>Propagate verifiable span metadata.</td>
              <td><span class="code-inline">trace_span_id</span>, <span class="code-inline">trace.parent_id</span></td>
              <td><span class="code-inline">trace_span_id</span>, <span class="code-inline">root.digest</span>, <span class="code-inline">consent_envelope_id</span></td>
            </tr>
            <tr>
              <td>MIRE</td>
              <td>Emit events when entropy breaks tolerances.</td>
              <td><span class="code-inline">mire_event</span>, <span class="code-inline">entropy.measure</span></td>
              <td><span class="code-inline">entropy.measure</span>, <span class="code-inline">risk.level</span>, <span class="code-inline">trace_span_id</span></td>
            </tr>
            <tr>
              <td>SCAR</td>
              <td>Attach compliance marker and refusal clarity.</td>
              <td><span class="code-inline">scar.marker</span>, <span class="code-inline">refusal.code</span></td>
              <td><span class="code-inline">scar.marker</span>, <span class="code-inline">policy.decision</span>, <span class="code-inline">operator.note</span></td>
            </tr>
            <tr>
              <td>COMPOST</td>
              <td>Persist immutable receipts and audit history.</td>
              <td><span class="code-inline">compost.bundle</span></td>
              <td><span class="code-inline">compost.bundle</span>, <span class="code-inline">retention.clock</span></td>
            </tr>
            <tr>
              <td>SPORE</td>
              <td>Export vetted bundles to downstream consumers.</td>
              <td><span class="code-inline">spore.hash</span>, <span class="code-inline">export.path</span></td>
              <td><span class="code-inline">spore.hash</span>, <span class="code-inline">root.digest</span>, <span class="code-inline">consent.receipt.hash</span></td>
            </tr>
            <tr>
              <td>REFRAIN</td>
              <td>Pause flows when consent drift exceeds tolerance.</td>
              <td><span class="code-inline">refrain.trigger</span>, <span class="code-inline">ece.score</span></td>
              <td><span class="code-inline">ece.score</span>, <span class="code-inline">mire_event.id</span></td>
            </tr>
          </tbody>
        </table>
      </div>
      <p class="small">If any primitive misses its required fields, REFRAIN raises a pause, VALVE responds with a refusal code, and SPORE is prevented from exporting the bundle.</p>
    </section>
  </main>
  <footer class="footer">
    <div class="container">
      <strong>HyphaMind</strong>
      <small>Consent-first orchestration spine for multi-agent systems.</small>
      <small>&copy; <span id="year"></span> HyphaMind, LLC. Powered by HyphaMindâ„¢</small>
    </div>
  </footer>
  <script>document.getElementById('year').textContent = new Date().getFullYear();</script>
</body>
</html>
